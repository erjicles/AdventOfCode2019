using AdventOfCode2019.Challenges.Day20;
using System;
using System.Collections.Generic;
using System.Text;
using Xunit;

namespace AdventOfCode2019Test.Challenges
{
    public class Day20Test
    {
        [Fact]
        public void Wee()
        {
            // Test examples taken from here:
            // https://adventofcode.com/2019/day/20
            var testData = new List<Tuple<string[], int>>(new Tuple<string[], int>[] {
                //          A           
                //          A           
                //   #######.#########  
                //   #######.........#  
                //   #######.#######.#  
                //   #######.#######.#  
                //   #######.#######.#  
                //   #####  B    ###.#  
                // BC...##  C    ###.#  
                //   ##.##       ###.#  
                //   ##...DE  F  ###.#  
                //   #####    G  ###.#  
                //   #########.#####.#  
                // DE..#######...###.#  
                //   #.#########.###.#  
                // FG..#########.....#  
                //   ###########.#####  
                //              Z       
                //              Z       
                new Tuple<string[], int>(
                    new string[] 
                    {
                        "         A         ",
                        "         A         ",
                        "  #######.#########",
                        "  #######.........#",
                        "  #######.#######.#",
                        "  #######.#######.#",
                        "  #######.#######.#",
                        "  #####  B    ###.#",
                        "BC...##  C    ###.#",
                        "  ##.##       ###.#",
                        "  ##...DE  F  ###.#",
                        "  #####    G  ###.#",
                        "  #########.#####.#",
                        "DE..#######...###.#",
                        "  #.#########.###.#",
                        "FG..#########.....#",
                        "  ###########.#####",
                        "             Z     ",
                        "             Z     "
                    }, 23),

                //                   A                          
                //                   A               
                //  #################.#############    
                //  #.#...#...................#.#.#  
                //  #.#.#.###.###.###.#########.#.#  
                //  #.#.#.......#...#.....#.#.#...#  
                //  #.#########.###.#####.#.#.###.#  
                //  #.............#.#.....#.......#  
                //  ###.###########.###.#####.#.#.#  
                //  #.....#        A   C    #.#.#.#  
                //  #######        S   P    #####.#  
                //  #.#...#                 #......VT
                //  #.#.#.#                 #.#####  
                //  #...#.#               YN....#.#  
                //  #.###.#                 #####.#  
                //DI....#.#                 #.....#  
                //  #####.#                 #.###.#  
                //ZZ......#               QG....#..AS
                //  ###.###                 #######  
                //JO..#.#.#                 #.....#  
                //  #.#.#.#                 ###.#.#  
                //  #...#..DI             BU....#..LF
                //  #####.#                 #.#####  
                //YN......#               VT..#....QG
                //  #.###.#                 #.###.#  
                //  #.#...#                 #.....#  
                //  ###.###    J L     J    #.#.###  
                //  #.....#    O F     P    #.#...#  
                //  #.###.#####.#.#####.#####.###.#  
                //  #...#.#.#...#.....#.....#.#...#  
                //  #.#####.###.###.#.#.#########.#  
                //  #...#.#.....#...#.#.#.#.....#.#  
                //  #.###.#####.###.###.#.#.#######  
                //  #.#.........#...#.............#  
                //  #########.###.###.#############  
                //           B   J   C               
                //           U   P   P               
                new Tuple<string[], int>(
                    new string[]
                    {
                        "                   A               ",
                        "                   A               ",
                        "  #################.#############  ",
                        "  #.#...#...................#.#.#  ",
                        "  #.#.#.###.###.###.#########.#.#  ",
                        "  #.#.#.......#...#.....#.#.#...#  ",
                        "  #.#########.###.#####.#.#.###.#  ",
                        "  #.............#.#.....#.......#  ",
                        "  ###.###########.###.#####.#.#.#  ",
                        "  #.....#        A   C    #.#.#.#  ",
                        "  #######        S   P    #####.#  ",
                        "  #.#...#                 #......VT",
                        "  #.#.#.#                 #.#####  ",
                        "  #...#.#               YN....#.#  ",
                        "  #.###.#                 #####.#  ",
                        "DI....#.#                 #.....#  ",
                        "  #####.#                 #.###.#  ",
                        "ZZ......#               QG....#..AS",
                        "  ###.###                 #######  ",
                        "JO..#.#.#                 #.....#  ",
                        "  #.#.#.#                 ###.#.#  ",
                        "  #...#..DI             BU....#..LF",
                        "  #####.#                 #.#####  ",
                        "YN......#               VT..#....QG",
                        "  #.###.#                 #.###.#  ",
                        "  #.#...#                 #.....#  ",
                        "  ###.###    J L     J    #.#.###  ",
                        "  #.....#    O F     P    #.#...#  ",
                        "  #.###.#####.#.#####.#####.###.#  ",
                        "  #...#.#.#...#.....#.....#.#...#  ",
                        "  #.#####.###.###.#.#.#########.#  ",
                        "  #...#.#.....#...#.#.#.#.....#.#  ",
                        "  #.###.#####.###.###.#.#.#######  ",
                        "  #.#.........#...#.............#  ",
                        "  #########.###.###.#############  ",
                        "           B   J   C               ",
                        "           U   P   P               ",
                    }, 58),
            });
            foreach (var testExample in testData)
            {
                var maze = new Maze(testExample.Item1);
                var pathResult = Day20.GetShortestPathThroughMaze(maze);
                Assert.Equal(testExample.Item2, pathResult.TotalPathCost);
            }
            
        }

        [Fact]
        public void GetDay20Part1AnswerTest()
        {
            int expected = 588;
            int actual = Day20.GetDay20Part1Answer();
            Assert.Equal(expected, actual);
        }
    }
}
